name: SLSA provenance
on:
 workflow_dispatch:

 permissions: read-all

 jobs:
   checkout:
     runs-on: ubuntu-latest
     steps:
       - name: Checkout the repository
         uses: actions/checkout@V4 # V2.3.4
         with:
           fetch-depth: 0
  # Trusted builder.
  build:
    permissions:
      id-token: write
      contents: read
    needs: checkout
    uses: slsa-framework/slsa-github-generator-go/.github/workflows/builder.yml@main
    with:
      go-version: 1.17
